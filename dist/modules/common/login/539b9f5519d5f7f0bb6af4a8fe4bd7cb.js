define(["../../../38459714ca0f8a4a32d1d9d5419fd8ce"],function(o){function e(o,e,n){function i(){c()}function t(e){r.validate(e).success(function(){o.login(d.form).then(function(o){o&&(n.error(o.msg,"登陆失败"),c(),"1"===o.retCode?d.form.imgcode="":"2"===o.retCode&&(d.form={}))})})}function c(){d.imgCode=o.oauthValidateCode()}var r=e.get("$validation"),d=this;d.login=t,d.getImgCode=c,d.checkValid=r.checkValid,d.form={userLoginName:"",imgcode:"",password:""},i()}o.controller("LoginController",e),e.$inject=["UserLogin","$injector","toastr"]});